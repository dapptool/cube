{"version":3,"sources":["util/interact.js","comp/Minter.js","comp/Footer.js","App.js","reportWebVitals.js","index.js"],"names":["contractABI","require","govABI","contractAddress","govAddress","Web3Utils","web3","Web3","window","ethereum","connectWallet","a","request","method","addressArray","obj","status","address","message","target","href","getCurrentWalletConnected","length","getTokenURI","sn","contract","eth","Contract","methods","tokenURI","call","console","log","getApproveState","govcontract","allowance","approveState","fromWei","approveToken","transactionParameters","to","from","selectedAddress","value","data","approve","encodeABI","params","txHash","success","mintNFT","claim","upgradeParts","parts","trim","parseInt","Minter","props","useState","walletAddress","setWallet","setStatus","setApproveState","amount","setAmount","attributes","setAttributes","partslist","setPartslist","name","setName","getItemList","result","items","split","itemList","i","itemAttr","base","suffix","postfix","level","item","indexOf","replace","push","postfix_count","getAttributes","baseStr","parameterName","tmp","index","decodeURIComponent","useEffect","addWalletListener","Base64","decode","bagAttr","JSON","parse","animation_url","apstate","connectWalletPressed","walletResponse","on","accounts","onMintBtnPressed","onShowBtnPressed","onClickParts","part","partslist_t","onUpgradeBtnPressed","list","onApprovePressed","className","id","onClick","String","substring","Grid","container","xs","type","onChange","event","rel","map","attribute","style","color","Footer","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1d012185.chunk.js","sourcesContent":["// import { pinJSONToIPFS } from \"./pinata.js\";\n// require(\"dotenv\").config();\n// const alchemyKey = process.env.REACT_APP_ALCHEMY_KEY;\n// const contractABI = require(\"../contract-abi.json\");\n// const contractAddress = \"0x4C4a07F737Bf57F6632B6CAB089B78f62385aCaE\";\nimport Web3 from \"web3\";\nconst contractABI = require(\"./contract-abi.json\");\nconst govABI = require(\"./gov-abi.json\")\nconst contractAddress = \"0x2dd51070cb508747c1EdA24B9779Bc349594644D\";\nconst govAddress = \"0xe1fe139745bf06419aa637f005c72c3b80f8df7b\"\nconst Web3Utils = require('web3-utils');\n// const web3defualt = require('web3');\n// const Web3Utils = web3defualt.utils;\n\n// const { createAlchemyWeb3 } = require(\"@alch/alchemy-web3\");\nconst web3 = new Web3(window.ethereum);\nexport const connectWallet = async () => {\n  if (window.ethereum) {\n    try {\n      const addressArray = await window.ethereum.request({\n        method: \"eth_requestAccounts\",\n      });\n      const obj = {\n        status: \"\",\n        address: addressArray[0],\n      };\n      return obj;\n    } catch (err) {\n      return {\n        address: \"\",\n        status: \"😥 \" + err.message,\n      };\n    }\n  } else {\n    return {\n      address: \"\",\n      status: (\n        <span>\n          <p>\n            {\" \"}\n            🦊{\" \"}\n            <a target=\"_blank\" href={`https://metamask.io/download.html`}>\n              You must install Metamask, a virtual Ethereum wallet, in your\n              browser.\n            </a>\n          </p>\n        </span>\n      ),\n    };\n  }\n};\n\nexport const getCurrentWalletConnected = async () => {\n  if (window.ethereum) {\n    try {\n      const addressArray = await window.ethereum.request({\n        method: \"eth_accounts\",\n      });\n      if (addressArray.length > 0) {\n        return {\n          address: addressArray[0],\n          status: \".\",\n        };\n      } else {\n        return {\n          address: \"\",\n          status: \"🦊 Connect to Metamask using the top right button.\",\n        };\n      }\n    } catch (err) {\n      return {\n        address: \"\",\n        status: \"😥 \" + err.message,\n      };\n    }\n  } else {\n    return {\n      address: \"\",\n      status: (\n        <span>\n          <p>\n            {\" \"}\n            🦊{\" \"}\n            <a target=\"_blank\" href={`https://metamask.io/download.html`}>\n              You must install Metamask, a virtual Ethereum wallet, in your\n              browser.\n            </a>\n          </p>\n        </span>\n      ),\n    };\n  }\n};\n\nasync function loadContract() {\n  console.log(contractABI, contractAddress)\n  return new web3.eth.Contract(contractABI, contractAddress);\n}\n\nexport const getTokenURI = async (sn) => {\n    if (!window.contract) {\n      window.contract = await new web3.eth.Contract(contractABI, contractAddress);\n    }\n    var tokenURI  = await window.contract.methods.tokenURI(sn).call();\n    console.log(tokenURI);\n    return tokenURI;\n\n}\n\nexport const getApproveState = async () => {\n  if (!window.govcontract) {\n    window.govcontract = await new web3.eth.Contract(govABI, govAddress);\n  }\n  if (window.ethereum) {\n    try {\n      const addressArray = await window.ethereum.request({\n        method: \"eth_requestAccounts\",\n      });\n      console.log(addressArray[0],contractAddress);\n      console.log(window.govcontract)\n      var approveState  = await window.govcontract.methods.allowance(addressArray[0], contractAddress).call();\n      // var approveState  = await window.govcontract.methods.balanceOf(addressArray[0]).call();\n      console.log(Web3Utils.fromWei(approveState, \"ether\"));\n      return approveState;\n    } catch (err) {\n      return {\n        address: \"\",\n        status: \"😥 \" + err.message,\n      };\n    }\n  }\n}\n\nexport const approveToken = async () => {\n  if (!window.govcontract) {\n    window.govcontract = await new web3.eth.Contract(govABI, govAddress);\n  }\n  const transactionParameters = {\n    to: govAddress, // Required except during contract publications.\n    from: window.ethereum.selectedAddress, // must match user's active address.\n    value: 0,\n    data: window.govcontract.methods\n      .approve(contractAddress, \"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\")\n      .encodeABI(),\n  };\n\n  try {\n    const txHash = await window.ethereum.request({\n      method: \"eth_sendTransaction\",\n      params: [transactionParameters],\n    });\n    return {\n      success: true,\n      status:\n        \"View transaction on Etherscan: https://rinkeby.etherscan.io/tx/\" +\n        txHash,\n    };\n  } catch (error) {\n    return {\n      success: false,\n      status: \"😥 Something went wrong: \" + error.message,\n    };\n  }\n}\n\nexport const mintNFT = async () => {\n  if (!window.contract) {\n    window.contract = await new web3.eth.Contract(contractABI, contractAddress);\n  }\n  const transactionParameters = {\n    to: contractAddress, // Required except during contract publications.\n    from: window.ethereum.selectedAddress, // must match user's active address.\n    value: 0,\n    data: window.contract.methods\n      .claim()\n      .encodeABI(),\n  };\n\n  try {\n    const txHash = await window.ethereum.request({\n      method: \"eth_sendTransaction\",\n      params: [transactionParameters],\n    });\n    return {\n      success: true,\n      status:\n        \"View transaction on Etherscan: https://rinkeby.etherscan.io/tx/\" +\n        txHash,\n    };\n  } catch (error) {\n    return {\n      success: false,\n      status: \"😥 Something went wrong: \" + error.message,\n    };\n  }\n}\n\nexport const upgradeParts = async (sn, parts) => {\n  if (sn.trim() == \"\") {\n    return {\n      success: false,\n      status: \"❗Amount cant be empty\"\n    };\n  }\n\n  sn = parseInt(sn)\n\n  if (!window.contract) {\n    window.contract = await new web3.eth.Contract(contractABI, contractAddress);\n  }\n  const transactionParameters = {\n    to: contractAddress, // Required except during contract publications.\n    from: window.ethereum.selectedAddress, // must match user's active address.\n    value: 0,\n    data: window.contract.methods\n      .upgradeParts(sn, parts)\n      .encodeABI(),\n  };\n\n  try {\n    const txHash = await window.ethereum.request({\n      method: \"eth_sendTransaction\",\n      params: [transactionParameters],\n    });\n    return {\n      success: true,\n      status:\n        \"View transaction on Etherscan: https://rinkeby.etherscan.io/tx/\" +\n        txHash,\n    };\n  } catch (error) {\n    return {\n      success: false,\n      status: \"😥 Something went wrong: \" + error.message,\n    };\n  }\n\n}\n","import { useEffect, useState } from \"react\";\nimport Base64  from 'base-64';\nimport { Button, Grid, Container } from '@material-ui/core';\nimport {\n  connectWallet,\n  getCurrentWalletConnected,\n  getTokenURI,\n  getApproveState,\n  approveToken,\n  mintNFT,\n  upgradeParts,\n  // mintNFT2,\n} from \"../util/interact.js\";\n\nconst Minter = (props) => {\n  const [walletAddress, setWallet] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n  const [approveState, setApproveState] = useState(2)\n  const [amount, setAmount] = useState(\"\");\n  const [minted, setMinted] = useState(\"\");\n  const [attributes, setAttributes] = useState([])\n  const [partslist, setPartslist] = useState([0,0,0,0,0,0,0])\n  const [name, setName] = useState(\"\")\n\n  const getItemList = (result) => {\n    var items = result.split(\",\");\n    var itemList = [];\n    for (var i=0; i<8; i++) {\n        let itemAttr = {\n          name: \"\",\n          base: \"\",\n          suffix: \"\",\n          postfix: \"\",\n          level: 1\n        }\n        var item = items[i];\n        itemAttr.name = item;\n        if (item.indexOf('[') == 0) {\n            itemAttr.suffix = item.split(']')[0].trim();\n            itemAttr.suffix = itemAttr.suffix.replace('[','');\n        }\n        if (item.indexOf('of') > 0) {\n            itemAttr.postfix = item.split('of')[1].trim();\n        }\n        itemAttr.base = item.replace('['+itemAttr.suffix+']', '').replace(itemAttr.postfix, '').replace('of', '').trim();\n        itemAttr.postfix = itemAttr.postfix.split('+')[0].trim();\n        itemList.push(itemAttr)\n      }\n      var postfix_count = {};\n      for (var i=0; i<8; i++) {\n        if (itemList[i].postfix == \"\") {\n          continue;\n        }\n        if ( itemList[i].postfix in postfix_count) {\n            postfix_count[itemList[i].postfix] += 1;\n        } else {\n            postfix_count[itemList[i].postfix] = 1;\n        }\n      }\n      for (var i=0; i<8; i++) {\n        if (itemList[i].postfix == \"\") {\n          continue;\n        }\n        itemList[i].level = postfix_count[itemList[i].postfix]\n      }\n    return itemList;\n  }\n  const getAttributes = (baseStr, parameterName) => {\n    var result = null,\n        tmp = [];\n    var items = baseStr.split(\"?\")[1].split(\"&\");\n    for (var index = 0; index < items.length; index++) {\n        tmp = items[index].split(\"=\");\n        if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);\n    }\n    return getItemList(result)\n  }\n\n  useEffect(async () => {\n    const { address, status } = await getCurrentWalletConnected();\n    setWallet(address);\n    setStatus(status);\n    setAmount(\"1\");\n    addWalletListener();\n    var tokenURI = await getTokenURI(1);\n    tokenURI = Base64.decode(tokenURI.split(\",\")[1])\n    var bagAttr = JSON.parse(tokenURI);\n    // console.log(bagAttr);\n    setName(bagAttr.name);\n    var attributes = getAttributes(bagAttr.animation_url, \"base\");\n    setAttributes(attributes);\n    var apstate = await getApproveState();\n    setApproveState(apstate);\n  }, []);\n\n  const connectWalletPressed = async () => {\n    const walletResponse = await connectWallet();\n    setStatus(walletResponse.status);\n    setWallet(walletResponse.address);\n  };\n\n  function addWalletListener() {\n    if (window.ethereum) {\n      window.ethereum.on(\"accountsChanged\", (accounts) => {\n        if (accounts.length > 0) {\n          setWallet(accounts[0]);\n          setStatus(\"👆🏽 Write a message in the text-field above.\");\n        } else {\n          setWallet(\"\");\n          setStatus(\"🦊 Connect to Metamask using the top right button.\");\n        }\n      });\n    } else {\n      setStatus(\n        <p>\n          {\" \"}\n          🦊{\" \"}\n          <a target=\"_blank\" href={`https://metamask.io/download.html`}>\n            You must install Metamask, a virtual Ethereum wallet, in your\n            browser.\n          </a>\n        </p>\n      );\n    }\n  }\n\n  // const onMintPressed = async () => {\n  //   const { success, status } = await mintNFT(url, name, description);\n  //   setStatus(status);\n  //   if (success) {\n  //     setName(\"\");\n  //     setDescription(\"\");\n  //     setURL(\"\");\n  //   }\n  // };\n\n\n  const onMintBtnPressed = async () => {\n    const { success, status } = await mintNFT();\n    console.log(success, status);\n    setStatus(status);\n    if (success) {\n    }\n  };\n  const onShowBtnPressed = async () => {\n    var tokenURI = await getTokenURI(amount);\n    tokenURI = Base64.decode(tokenURI.split(\",\")[1])\n    var bagAttr = JSON.parse(tokenURI);\n    console.log(bagAttr);\n    setName(bagAttr.name);\n    var attributes = getAttributes(bagAttr.animation_url, \"base\");\n    console.log(\"aaa\",attributes);\n    setAttributes(attributes);\n  };\n  //update parts list\n  const onClickParts = (part) => {\n    console.log(partslist);\n    var partslist_t = partslist;\n    if (partslist_t[part] == 1) {\n      partslist_t[part] = 0;\n    } else {\n      partslist_t[part] = 1;\n    }\n    setPartslist([...partslist_t])\n  }\n  const onUpgradeBtnPressed = async () => {\n    let list = []\n    for (var i = 0; i < partslist.length; i++) {\n      if (partslist[i] == 1) {\n        list.push(i)\n      }\n    }\n    console.log(list)\n    const {success, status } = await upgradeParts(amount, list)\n  };\n  const onApprovePressed = async () => {\n    const {success, status } = await approveToken()\n  }\n//test item\n  const testStr = \"Scimitar of Titans,Shirt,Ornate Helm of Titans,Silk Sash of Titans,Silk Slippers,Demon's Hands,Necklace,Platinum Ring of Detection\";\n  var test_attributes = getItemList(testStr);\n  return (\n    <div className=\"Minter\">\n      <div className=\"header\">\n        <div className = \"header__logo\">\n          <a href=\"/\">Loot::Cube</a>\n        </div>\n        <div className = \"header__links\">\n          <ul><li>\n            <a id=\"walletButton\" onClick={connectWalletPressed}>\n              {walletAddress.length > 0 ? (\n                \"Connected: \" +\n                String(walletAddress).substring(0, 6) +\n                \"...\" +\n                String(walletAddress).substring(38)\n              ) : (\n                \"Connect Wallet\"\n              )}\n            </a>\n          </li></ul>\n        </div>\n      </div>\n      <div id=\"title\">Loot::Cube</div>\n      <Grid container className = \"home__feature\">\n        <Grid item xs={4} className = \"home__function\">\n          <h2>Mint a cube</h2>\n          <span>now mint is free!</span>\n          <button id=\"mintButton\" onClick={onMintBtnPressed}>\n            Mint\n          </button>\n        </Grid>\n        <Grid item xs={4} className = \"home__function\">\n          <form>\n            <h2>Show a minted cube</h2>\n            <input\n              type=\"text\"\n              value={amount}\n              onChange={(event) => setAmount(event.target.value)}\n            />\n          </form>\n          <button id=\"showButton\" onClick={onShowBtnPressed}>\n            Show\n          </button>\n        </Grid>\n        {(approveState>0) ?\n        <Grid item xs={4} className = \"home__function\">\n          <form>\n            <h2>Upgrade items</h2>\n            <input\n              type=\"text\"\n              value={amount}\n              onChange={(event) => setAmount(event.target.value)}\n            />\n          </form>\n          <ul>\n            <li><a className={(partslist[0]==1)?\"selected\":\"\"} onClick={() => onClickParts(0)}>Weapon</a></li>\n            <li><a className={(partslist[1]==1)?\"selected\":\"\"} onClick={() => onClickParts(1)}>Chest</a></li>\n            <li><a className={(partslist[2]==1)?\"selected\":\"\"} onClick={() => onClickParts(2)}>Head</a></li>\n            <li><a className={(partslist[3]==1)?\"selected\":\"\"} onClick={() => onClickParts(3)}>Waist</a></li>\n          </ul>\n          <ul>\n            <li><a className={(partslist[4]==1)?\"selected\":\"\"} onClick={() => onClickParts(4)}>Foot</a></li>\n            <li><a className={(partslist[5]==1)?\"selected\":\"\"} onClick={() => onClickParts(5)}>Hand</a></li>\n            <li><a className={(partslist[6]==1)?\"selected\":\"\"} onClick={() => onClickParts(6)}>Neck & Ring</a></li>\n          </ul>\n          <button id=\"upgradeButton\" onClick={onUpgradeBtnPressed}>\n            Upgrade\n          </button>\n        </Grid> : <Grid item xs={4} className = \"home__function\">\n            <h2>Upgrade items</h2>\n            <span>You need approve cube gov token before upgrade</span>\n          <button id=\"approveButton\" onClick={onApprovePressed}>\n            Approve\n          </button>\n        </Grid>}\n      </Grid>\n      <div className=\"home__feature\">\n        <span>Current Bag:</span>\n        <a\n            href={\"https://testnets.opensea.io/assets/0x2dd51070cb508747c1EdA24B9779Bc349594644D/\"+amount}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            key={name}\n            className=\"bag\"\n          >\n            <div className=\"bag_attributes\">\n              <span>{name}</span>\n              <ul>\n                {attributes.map((attribute, i) => (\n                  <li className={(attribute.level > 2)?\"sritem\":\"\"} key={i}>\n                    {(attribute.suffix==\"\")?\"\":<span>[{attribute.suffix}]</span>}\n                    <span>{attribute.base}</span>\n                    <span>{(attribute.postfix!=\"\"?\" of \":\"\")}{attribute.postfix}</span>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </a>\n      </div>\n      <p id=\"status\" style={{ color: \"red\" }}>\n        {status}\n      </p>\n    </div>\n  );\n};\n\nexport default Minter;\n","function Footer() {\n  return (\n    <div className=\"footer\">\n        <p>Loot for Items，Cube for the Set</p>\n    </div>\n  );\n}\n\nexport default Footer;\n","import './App.scss';\nimport Minter from './comp/Minter';\nimport Footer from './comp/Footer';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Minter></Minter>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}